(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,r,n){e.exports=n(13)},,,,,,function(e,r,n){},function(e,r,n){},function(e,r,n){},function(e,r,n){"use strict";n.r(r);var t=n(0),a=n.n(t),o=n(3),u=n.n(o),i=(n(10),n(1));n(11),n(12);var c=function(e){var r=e.value;return a.a.createElement("div",{className:"cell"},r||"")};var f=function(e){var r=e.data.map(function(e){var r=e.map(function(e){return a.a.createElement("td",null,a.a.createElement(c,{value:e}))});return a.a.createElement("tr",null,r)});return a.a.createElement("table",null,a.a.createElement("tbody",null,r))};var s=function(e){var r=e.value;return a.a.createElement("div",{className:"score"},"Score: ",r)},l=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];function m(){return function(e){for(var r=e.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),t=[e[n],e[r]];e[r]=t[0],e[n]=t[1]}return e}([2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0]).reduce(function(e,r,n){return e[n%4].push(r),e},[[],[],[],[]])}function v(e,r){var n=function(e,r){switch(r){case"ArrowUp":return function(e){var r=p(h(e));return{matrix:w(r.matrix),sum:r.sum}}(e);case"ArrowRight":return function(e){var r=p(h(h(e)));return{matrix:w(w(r.matrix)),sum:r.sum}}(e);case"ArrowDown":return function(e){var r=p(w(e));return{matrix:h(r.matrix),sum:r.sum}}(e);case"ArrowLeft":return p(e);default:return{matrix:e,sum:0}}}(e,r);return console.log(n),JSON.stringify(e)!==JSON.stringify(n.matrix)&&(n.matrix=function(e){var r=e.flat(),n=r.filter(function(e){return 0===e}).length;if(0===n)return e;var t=Math.floor(Math.random()*Math.floor(n)),a=function(e,r){if(0===r)return e.indexOf(0);var n=0,t=0;for(;n!==r;)t=e.indexOf(0,t+1),n++;return t}(r,t);return e[Math.floor(a/4)][a%4]=2,e}(n.matrix)),n}function d(e){return e[0].map(function(r,n){return e.map(function(e){return e[n]})})}function w(e){return d(e.reverse())}function h(e){return d(e).reverse()}function p(e){var r=0;return{matrix:e.map(function(e){var n=[0,0,0,0],t=0;return e.map(function(e,a){0!==e&&(0===n[t]?n[t]+=e:n[t]===e?(n[t]+=e,t++,r+=2*e):n[++t]=e)}),n}),sum:r}}var E=function(){var e=Object(t.useReducer)(function(e,r){switch(r.type){case"move":var n=v(e.field,r.direction);return{field:n.matrix,score:e.score+n.sum};case"new":return{field:m(),score:0};default:return e}},{field:m(),score:0}),r=Object(i.a)(e,2),n=r[0],o=r[1],u=function(){var e=Object(t.useState)(!1),r=Object(i.a)(e,2),n=r[0],a=r[1],o=function(e){var r=e.key;l.indexOf(r)>=0&&a(r)},u=function(e){var r=e.key;l.indexOf(r)>=0&&a(!1)};return Object(t.useEffect)(function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",u),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",u)}},[]),n}();return Object(t.useEffect)(function(){u&&o({type:"move",direction:u})},[u]),a.a.createElement("div",{className:"main"},a.a.createElement(s,{value:n.score}),a.a.createElement(f,{data:n.field}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[4,1,2]]]);
//# sourceMappingURL=main.619208b4.chunk.js.map